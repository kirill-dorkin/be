# Маркетинг и акции

В этом руководстве собраны инструкции по настройке скидок, промокодов, подарочных карт и отслеживанию эффективности кампаний.

## 1. Инструменты маркетинга в Saleor
- **Discounts → Vouchers** — промокоды, которые вводит клиент на этапе оформления заказа.
- **Discounts → Sales** — автоматические акции (например, -10% на категорию).
- **Discounts → Gift cards** — подарочные карты с балансом.
- **Products → Collections** — подборки товаров для витрины и рассылок.
- **Content → Pages** — статические страницы с условиями акций и новостями.

## 2. Создание промокода (Voucher)
1. Перейдите в **Discounts → Vouchers → Create voucher**.
2. Заполните поля:
   - **Code** — уникальный код (например, `SPRING10`).
   - **Discount value** — размер скидки (процент или фиксированная сумма).
   - **Applies to** — выберите *Entire order*, конкретные коллекции или продукты.
   - **Usage limit** — можно ограничить количество применений или сделать безлимитным.
   - **Validity** — установите даты начала и окончания.
3. Включите каналы продаж, где действует промокод (блок **Channel listings** → выберите канал → **Add channels**).
4. Нажмите **Save**. Скопируйте ссылку или код и поделитесь с клиентами.

## 3. Настройка распродажи (Sale)
1. **Discounts → Sales → Create sale**.
2. Укажите название (например, «Скидка на ремонт экранов»), выберите тип скидки и её размер.
3. В разделе **Type** отметьте, что акция применяется к категориям, коллекциям или конкретным продуктам.
4. Выберите каналы продаж.
5. Задайте период действия (если нужно) и сохраните.
6. Проверьте, что цены в витрине обновились. Если изменений нет — обновите кеш (см. [apps/storefront/src/lib/cache.ts](https://github.com/kirill-dorkin/be/blob/main/apps/storefront/src/lib/cache.ts)).

## 4. Подарочные карты
1. Перейдите в **Discounts → Gift cards**.
2. Нажмите **Issue card**.
3. Введите номинал и срок действия (можно оставить «Never expires»).
4. Укажите получателя (email). Клиент получит письмо с кодом подарочной карты.
5. В разделе **Gift card settings** можно включить автоматическую генерацию карт для магазина.

## 5. Контент для акций
- Создавайте страницы с условиями в **Content → Pages**. Добавляйте ссылку на страницу в меню через **Content → Navigation**.
- Обновляйте баннеры и коллекции на главной странице (см. [docs/content-and-storefront.md](https://github.com/kirill-dorkin/be/blob/main/docs/content-and-storefront.md)).
- Используйте коллекции для email-рассылок: экспортируйте список товаров через **Products → Export → Collections**.

## 6. Отслеживание результатов
- **Dashboard → Home** показывает суммарные продажи и популярные товары.
- Выгружайте заказы через **Orders → Export** и анализируйте, сколько из них использовали конкретный промокод.
- Для продвинутой аналитики используйте подключение к внешним BI-инструментам через Saleor API (см. [packages/infrastructure/src/graphql/client.ts](https://github.com/kirill-dorkin/be/blob/main/packages/infrastructure/src/graphql/client.ts)).

## 7. Контрольный список перед запуском кампании
- [ ] Проверены условия и размер скидки.
- [ ] Промокод активирован для нужных каналов.
- [ ] Обновлены баннеры и страницы с условиями.
- [ ] Подготовлена коммуникация: email, социальные сети, push.
- [ ] Назначен ответственный за мониторинг продаж.

При вопросах обращайтесь к маркетинг-менеджеру или создайте тикет в поддержку с названием кампании и датами.

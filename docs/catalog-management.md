# Работа с каталогом товаров и услуг

Это руководство объясняет, как управлять ассортиментом Nimara: добавлять товары и услуги, обновлять цены, категории и фотографии. Все действия выполняются в разделе **Products** панели Saleor.

## 1. Структура каталога
- **Products (Товары)** — карточки конкретных товаров и услуг. Здесь указываются название, описание, атрибуты, фотографии и цены.
- **Categories (Категории)** — дерево разделов, которое видят покупатели. Например: «Ремонт телефонов» → «iPhone».
- **Collections (Коллекции)** — подборки для маркетинга, баннеров и главной страницы.
- **Product Types (Типы товаров)** — шаблоны для разных видов товаров. Для услуг используется тип `Repair Service`.
- **Attributes (Атрибуты)** — дополнительные характеристики (цвет, материал, длительность ремонта).

## 2. Подготовка к работе
1. Убедитесь, что вы на нужном канале продаж (Production или Staging).
2. Проверьте, что у вас есть права на управление каталогом (группа **Catalog Manager** или аналогичная).
3. Если нужно обновить услуги, загрузите свежие данные из файла [apps/storefront/src/lib/repair-services/data.ts](https://github.com/kirill-dorkin/be/blob/main/apps/storefront/src/lib/repair-services/data.ts) или попросите разработчиков сгенерировать новый seed через `/api/repair-services/seed` (см. [docs/repair-services.md](https://github.com/kirill-dorkin/be/blob/main/docs/repair-services.md)).

## 3. Создание нового товара или услуги
1. Перейдите в **Products → + Create product**.
2. Выберите **Product Type**:
   - `Repair Service` — для услуг сервисного центра.
   - `Default Product` — для физического товара.
3. Заполните обязательные поля:
   - **Name** — название для покупателей.
   - **Slug** — уникальный адрес, лучше использовать латиницу (например, `iphone-15-screen-repair`).
   - **Description** — краткое описание и ключевые выгоды.
4. В блоке **Organization** выберите категорию и (опционально) коллекции.
5. В **Attributes** заполните значения. Для услуг доступны поля `device-type`, `service-group`, `service-category`, `pricing-kind`.
6. Загрузите фото: в секции **Media** нажмите **Upload media**, добавьте JPEG/PNG до 2 МБ.
7. Нажмите **Save** — появится вкладка **Variants**.

### 3.1 Управление вариантами (Variants)
- Для услуг достаточно одного варианта с фиксированной ценой. Нажмите **Create variant**, укажите SKU (например, `SRV-IP15-SCREEN`), цену и валюту.
- Для товаров можно задать несколько вариантов (цвет, размер). Варианты наследуют атрибуты типа товара.

## 4. Обновление цен и наличия
1. Откройте нужный товар → вкладка **Variants & Pricing**.
2. Найдите вариант, нажмите на цену и введите новое значение.
3. В блоке **Inventory** укажите `Track inventory` (если складской товар) и доступное количество.
4. Нажмите **Save**. Цена обновится на витрине сразу после синхронизации (обычно до 1 минуты).

### 4.1 Массовое изменение цен
- Используйте кнопку **Bulk actions → Change price** в списке продуктов.
- Либо импортируйте данные через CSV (кнопка **Import** в разделе Products). Шаблон можно выгрузить через **Export → Products**.

## 5. Категории и коллекции
### 5.1 Создание категории
1. **Products → Categories → Create category**.
2. Введите название и описание, выберите родительскую категорию.
3. Загрузите изображение баннера (опционально).
4. Нажмите **Save** — категория появится в дереве.

### 5.2 Создание коллекции
1. **Products → Collections → Create collection**.
2. Заполните название и описание, добавьте изображение.
3. Добавьте товары через кнопку **Assign products**.
4. Используйте переключатель **Published** для управления видимостью.

## 6. Управление атрибутами
- Раздел **Products → Attributes**.
- Нажмите **Create attribute**, выберите тип (dropdown, multiselect, rich text).
- Введите список значений. Например, для `service-group` значения: «Диагностика», «Ремонт дисплея», «Замена батареи».
- Привяжите атрибут к типу товара (в карточке Product Type → вкладка **Attributes**).

## 7. Импорт и экспорт данных
- **Export** в разделе Products позволяет выгрузить CSV для отчётности.
- **Import** — загрузка подготовленных файлов. Перед импортом сделайте резервную копию и протестируйте на канале Staging.
- Автоматическое наполнение услугами описано в [docs/repair-services.md](https://github.com/kirill-dorkin/be/blob/main/docs/repair-services.md).

## 8. Контрольный список перед публикацией
- [ ] Название и описание без орфографических ошибок.
- [ ] Категория и коллекция выбраны.
- [ ] Фото высокого качества.
- [ ] Цена и валюта проверены.
- [ ] Статус **Published** активирован (в блоке Channel visibility).
- [ ] Товар отображается в витрине (проверьте по прямой ссылке).

Если нужна помощь, обратитесь к ведущему мерчендайзеру или создайте задачу в службе поддержки с указанием SKU и канала.
